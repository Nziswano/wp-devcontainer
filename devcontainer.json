{
	"name": "Wordpress Dev Environment",
	"dockerComposeFile": "docker-compose.yml",
	"service": "app",
	"workspaceFolder": "/workspace",
	"customizations": {
		"vscode": {
			"extensions": [
				"bmewburn.vscode-intelephense-client",
				"DEVSENSE.composer-php-vscode",
				"DEVSENSE.phptools-vscode",
				"DEVSENSE.profiler-php-vscode",
				"mtxr.sqltools-driver-mysql",
				"xdebug.php-debug",
				"claudiosanches.woocommerce",
				"esbenp.prettier-vscode",
				"junstyle.php-cs-fixer",
				"mtxr.sqltools",
				"rangav.vscode-thunder-client",
				"redhat.vscode-xml",
				"meganrogge.template-string-converter",
				"qcz.text-power-tools",
				"oderwat.indent-rainbow",
				"GitHub.vscode-pull-request-github",
				"GitHub.copilot-labs",
				"GitHub.copilot-chat",
				"GitHub.copilot",
				"github.vscode-github-actions",
				"aliariff.auto-add-brackets",
				"streetsidesoftware.code-spell-checker",
				"mrmlnc.vscode-duplicate",
				"naumovs.color-highlight",
				"howardzuo.vscode-git-tags",
				"EditorConfig.EditorConfig",
				"ahmadawais.emoji-log-vscode",
				"christian-kohler.path-intellisense",
				"stanislav.vscode-twig",
				"mblode.twig-language-2",
				"mblode.twig-language",
				"DavidAnson.vscode-markdownlint",
				"shd101wyy.markdown-preview-enhanced"
			],
			"settings": {
				"sqltools.connections": [
					{
						"name": "Container database",
						"driver": "MariaDB",
						"server": "wordpressdb",
						"previewLimit": 50,
						"port": 3306,
						"database": "wordpress",
						"username": "wordpress",
						"password": "wordpress"
					}
				]
			},
      "files.associations": {
        "*.html": "twig"
      },
      "emmet.includeLanguages": {
        "twig": "html"
    },
			"configurations": [
				{
					"name": "Listen for Xdebug",
					"type": "php",
					"request": "launch",
					"port": 9000
			},
			{
					"name": "Launch currently open script",
					"type": "php",
					"request": "launch",
					"program": "${file}",
					"cwd": "${fileDirname}",
					"port": 0,
					"runtimeArgs": [
							"-dxdebug.start_with_request=yes"
					],
					"env": {
							"XDEBUG_MODE": "debug,develop",
							"XDEBUG_CONFIG": "client_port=${port}"
					}
			},
			{
					"name": "Launch Built-in web server",
					"type": "php",
					"request": "launch",
					"runtimeArgs": [
							"-dxdebug.mode=debug",
							"-dxdebug.start_with_request=yes",
							"-S",
							"localhost:8000",
							"-t",
							"wordpress/"
					],
					"program": "",
					"cwd": "${workspaceRoot}\\wp",
					"port": 9000,
					"serverReadyAction": {
							"pattern": "Development Server \\(http://localhost:([0-9]+)\\) started",
							"uriFormat": "http://localhost:%s",
							"action": "openExternally"
					}
			}
			]
		}
	},
	"forwardPorts": [
		8000,
		8080,
		3306,
		9000
	],
	"postCreateCommand": "bash .devcontainer/scripts/post-create.sh",
	"remoteUser": "vscode",
	"features": {
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/common-utils:2": {
			"configureZshAsDeaultShell": "true",
			"upgradePackages": "true"
		}
	}
}
